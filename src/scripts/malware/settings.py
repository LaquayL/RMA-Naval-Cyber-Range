import ipaddress
import argparse

# 1) Define the allowed modes and their parameters
MODES = {
    'radar': {
        'LISTEN_INTERFACE': '192.168.3.3', # Local interface to bind for incoming data
        'TARGET': 'radar', # Target of the attack
        'CC_WS_URL': 'ws://192.168.166.101:3000', # WebSocket URL for command & control
    },
    'wecdis': {
        'LISTEN_INTERFACE': '192.168.5.22', # Local interface to bind for incoming data
        'TARGET': 'wecdis', # Target of the attack
        'CC_WS_URL': 'ws://192.168.166.102:3001', # WebSocket URL for command & control
    }
}


parser = argparse.ArgumentParser(add_help=False)
parser.add_argument(
    'mode',
    choices=MODES.keys(),
    help='Simulation mode: radar or wecdis'
)
args, _ = parser.parse_known_args()

MODE = args.mode
_mode_cfg = MODES[MODE]

LISTEN_INTERFACE = _mode_cfg['LISTEN_INTERFACE']
TARGET = _mode_cfg['TARGET']
CC_WS_URL = _mode_cfg['CC_WS_URL']

# Asterix feed endpoint
ASTERIX_HOST = ipaddress.ip_address("239.0.1.2")
ASTERIX_PORT = 8600

# NMEA multicast feed endpoint
NMEA_HOST = ipaddress.ip_address("239.0.1.1")
NMEA_PORT = 10110
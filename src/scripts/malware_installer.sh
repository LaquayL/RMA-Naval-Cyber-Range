#!/bin/bash

# 1. Install dependencies silently
pip install --quiet aiohttp~=3.8 pynmea2~=1.18 pyais~=2.4 setproctitle

# 2. Create a temporary wrapper script (acts like a system command)
install_path="/usr/local/bin/attack-script"
cat <<EOF > "$install_path"
#!/bin/bash
python3 home/ubuntu/RMA-Naval-Cyber-Range/src/containers/malware_ship_side/src/__main__.py "\$@"
EOF

# 3. Make it executable
chmod +x "$install_path"

# 4. Run the installed command silently
"$install_path" >/dev/null 2>&1
